<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Adivinhação - Estados Unidos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 10px;
            box-sizing: border-box;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        h1 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        .question {
            font-size: 1rem;
            margin-bottom: 10px;
        }
        .game-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .options, .matches {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 5px;
            width: 48%;
        }
        .option, .match {
            padding: 5px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            cursor: pointer;
            user-select: none;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
            text-align: center;
            line-height: 1.2;
        }
        .match {
            background-color: #fff;
        }
        .match.correct {
            background-color: lightgreen;
            pointer-events: none;
        }
        .match.wrong {
            background-color: #ffcccc;
        }
        .result {
            margin-top: 10px;
            font-size: 0.8rem;
        }
        button {
            margin-top: 10px;
        }
        .mode-selector {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Jogo de Adivinhação - Estados Unidos</h1>
    
    <div class="mode-selector">
		<input type="radio" id="capital-estado" name="mode" value="capital-estado" checked>
		<label for="capital-estado">Capital/Estado</label>
		<input type="radio" id="principais-cidades" name="mode" value="principais-cidades">
		<label for="principais-cidades">Principais Cidades/Estado</label>
		<input type="radio" id="populacao-estado" name="mode" value="populacao-estado">
		<label for="populacao-estado">População/Estado</label>
		<input type="radio" id="populacao-capital" name="mode" value="populacao-capital">
		<label for="populacao-capital">População/Capital</label>
		<input type="radio" id="populacao-cidade" name="mode" value="populacao-cidade">
		<label for="populacao-cidade">Maiores Cidades/População</label>
	</div>

    <div class="question">
        <p>Arraste o item da esquerda para o correspondente à direita:</p>
    </div>

    <div class="game-container">
        <div class="options" id="options"></div>
        <div class="matches" id="matches"></div>
    </div>

    <div class="result" id="resultado"></div>

    <button onclick="resetGame()">Reiniciar Jogo</button>

    <script>
        const estados = [
            "Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", "Delaware", "Florida", "Georgia",
            "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland",
            "Massachusetts", "Michigan", "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey",
            "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina",
            "South Dakota", "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Washington", "West Virginia", "Wisconsin", "Wyoming"
        ];

        const capitais = [
            "Montgomery", "Juneau", "Phoenix", "Little Rock", "Sacramento", "Denver", "Hartford", "Dover", "Tallahassee", "Atlanta",
            "Honolulu", "Boise", "Springfield", "Indianapolis", "Des Moines", "Topeka", "Frankfort", "Baton Rouge", "Augusta", "Annapolis",
            "Boston", "Lansing", "St. Paul", "Jackson", "Jefferson City", "Helena", "Lincoln", "Carson City", "Concord", "Trenton",
            "Santa Fe", "Albany", "Raleigh", "Bismarck", "Columbus", "Oklahoma City", "Salem", "Harrisburg", "Providence", "Columbia",
            "Pierre", "Nashville", "Austin", "Salt Lake City", "Montpelier", "Richmond", "Olympia", "Charleston", "Madison", "Cheyenne"
        ];

        const principaisCidades = [
            "Huntsville, Birmingham, Mobile, Tuscaloosa, Hoover",
            "Anchorage, Fairbanks, Badger, College, Wasilla",
            "Tucson, Mesa, Chandler, Glendale, Scottsdale",
            "Fort Smith, Fayetteville, Springdale, Jonesboro, Rogers",
            "Los Angeles, San Diego, San Jose, San Francisco, Fresno",
            "Colorado Springs, Aurora, Fort Collins, Lakewood, Thornton",
            "Bridgeport, New Haven, Stamford, Waterbury, Norwalk",
            "Wilmington, Newark, Middletown, Smyrna, Milford",
            "Jacksonville, Miami, Tampa, Orlando, St. Petersburg",
            "Columbus, Augusta, Macon, Savannah, Athens",
            "Hilo, Kailua, Waipahu, Kaneohe, Mililani",
            "Meridian, Nampa, Idaho Falls, Caldwell, Pocatello",
            "Chicago, Aurora, Joliet, Naperville, Rockford",
            "Fort Wayne, Evansville, South Bend, Carmel, Fishers",
            "Cedar Rapids, Davenport, Sioux City, Waterloo, Ames",
            "Wichita, Overland Park, Kansas City, Olathe, Lawrence",
            "Louisville, Lexington, Bowling Green, Owensboro, Covington",
            "New Orleans, Shreveport, Lafayette, Lake Charles, Kenner",
            "Portland, Lewiston, Bangor, South Portland, Auburn",
            "Baltimore, Frederick, Gaithersburg, Rockville, Bowie",
            "Worcester, Springfield, Cambridge, Lowell, New Bedford",
            "Detroit, Grand Rapids, Warren, Sterling Heights, Ann Arbor",
            "Minneapolis, Rochester, Bloomington, Duluth, Brooklyn Park",
            "Gulfport, Southaven, Hattiesburg, Biloxi, Meridian",
            "Kansas City, St. Louis, Springfield, Columbia, Independence",
            "Billings, Missoula, Great Falls, Bozeman, Butte",
            "Omaha, Bellevue, Grand Island, Kearney, Fremont",
            "Las Vegas, Henderson, Reno, North Las Vegas, Sparks",
            "Manchester, Nashua, Derry, Dover, Rochester",
            "Newark, Jersey City, Paterson, Elizabeth, Edison",
            "Albuquerque, Las Cruces, Rio Rancho, Roswell, Farmington",
            "New York City, Buffalo, Rochester, Yonkers, Syracuse",
            "Charlotte, Greensboro, Durham, Winston-Salem, Fayetteville",
            "Fargo, Grand Forks, Minot, West Fargo, Williston",
            "Cleveland, Cincinnati, Toledo, Akron, Dayton",
            "Tulsa, Norman, Broken Arrow, Edmond, Lawton",
            "Portland, Eugene, Gresham, Hillsboro, Beaverton",
            "Philadelphia, Pittsburgh, Allentown, Erie, Reading",
            "Warwick, Cranston, Pawtucket, East Providence, Woonsocket",
            "Charleston, North Charleston, Mount Pleasant, Rock Hill, Greenville",
            "Sioux Falls, Rapid City, Aberdeen, Brookings, Watertown",
            "Memphis, Knoxville, Chattanooga, Clarksville, Murfreesboro",
            "Houston, San Antonio, Dallas, Fort Worth, El Paso",
            "West Valley City, Provo, West Jordan, Orem, Sandy",
            "Burlington, South Burlington, Rutland, Essex Junction, Barre",
            "Virginia Beach, Norfolk, Chesapeake, Arlington, Newport News",
            "Seattle, Spokane, Tacoma, Vancouver, Bellevue",
            "Huntington, Morgantown, Parkersburg, Wheeling, Weirton",
            "Milwaukee, Green Bay, Kenosha, Racine, Appleton",
            "Casper, Laramie, Gillette, Rock Springs, Sheridan"
        ];

        const populacoesEstados = [
            "5.074M", "0.734M", "7.359M", "3.046M", "39.538M", "5.774M", "3.606M", "0.990M", "21.538M", "10.712M",
            "1.455M", "1.839M", "12.813M", "6.786M", "3.190M", "2.938M", "4.506M", "4.658M", "1.362M", "6.177M",
            "7.030M", "10.077M", "5.706M", "2.961M", "6.155M", "1.084M", "1.962M", "3.105M", "1.378M", "9.289M",
            "2.118M", "20.201M", "10.439M", "0.779M", "11.799M", "3.959M", "4.237M", "13.002M", "1.097M", "5.118M",
            "0.887M", "6.911M", "29.146M", "3.272M", "0.643M", "8.631M", "7.705M", "1.794M", "5.894M", "0.577M"
        ];

        const populacoesCapitais = [
            "201.022K", "31.974K", "1.650M", "200.405K", "525.041K", "715.878K", "121.054K", "38.166K", "197.102K", "510.823K",
            "343.302K", "235.684K", "114.394K", "878.963K", "214.133K", "125.310K", "28.621K", "227.470K", "18.900K", "40.812K",
            "675.647K", "112.644K", "311.527K", "153.701K", "43.228K", "33.124K", "293.446K", "58.639K", "43.244K", "83.412K",
            "87.505K", "101.228K", "479.332K", "74.112K", "907.107K", "687.725K", "173.535K", "50.099K", "190.034K", "138.104K",
            "14.091K", "715.884K", "979.882K", "200.133K", "7.477K", "226.622K", "55.593K", "47.215K", "273.761K", "65.051K"
        ];
		
		const cidades = [
			"New York, NY", "Los Angeles, CA", "Chicago, IL", "Houston, TX", "Phoenix, AZ", "Philadelphia, PA", "San Antonio, TX", "San Diego, CA", "Dallas, TX", "Austin, TX",
			"San Jose, CA", "Jacksonville, FL", "Fort Worth, TX", "Columbus, OH", "Charlotte, NC", "Indianapolis, IN", "San Francisco, CA", "Seattle, WA", "Denver, CO", "Washington, DC",
			"Nashville, TN", "Oklahoma City, OK", "Boston, MA", "El Paso, TX", "Portland, OR", "Las Vegas, NV", "Detroit, MI", "Louisville, KY", "Memphis, TN", "Baltimore, MD",
			"Milwaukee, WI", "Albuquerque, NM", "Tucson, AZ", "Fresno, CA", "Sacramento, CA", "Kansas City, MO", "Mesa, AZ", "Atlanta, GA", "Omaha, NE", "Colorado Springs, CO",
			"Raleigh, NC", "Miami, FL", "Virginia Beach, VA", "Oakland, CA", "Minneapolis, MN", "Arlington, TX", "Wichita, KS", "Aurora, CO", "New Orleans, LA", "Cleveland, OH"
		];

		const populacoesCidades = [
			"8.411M", "3.834M", "2.664M", "2.366M", "1.636M", "1.526M", "1.502M", "1.401M", "1.291M", "1.021M",
			"0.980M", "0.966M", "0.957M", "0.936M", "0.915M", "0.879M", "0.809M", "0.734M", "0.716M", "0.707M",
			"0.689M", "0.694M", "0.654M", "0.679M", "0.653M", "0.641M", "0.633M", "0.623M", "0.621M", "0.565M",
			"0.561M", "0.564M", "0.548M", "0.547M", "0.522M", "0.511M", "0.510M", "0.507M", "0.488M", "0.486M",
			"0.486M", "0.441M", "0.459M", "0.433M", "0.425M", "0.398M", "0.396M", "0.395M", "0.364M", "0.363M"
		];

        let currentMode = "capital-estado";

        function parsePopulation(pop) {
            const number = parseFloat(pop.replace(/[MK]/g, ''));
            const multiplier = pop.includes('M') ? 1000000 : pop.includes('K') ? 1000 : 1;
            return number * multiplier;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return [...array];
        }

        function sortByPopulation(populationArray, correspondingArray) {
            let combined = populationArray.map((pop, index) => ({
                population: pop,
                corresponding: correspondingArray[index],
                originalIndex: index,
                value: parsePopulation(pop)
            }));
            
            combined.sort((a, b) => {
                if (b.value === a.value) {
                    return a.originalIndex - b.originalIndex;
                }
                return b.value - a.value;
            });
            
            return {
                populations: combined.map(item => item.population),
                corresponding: combined.map(item => item.corresponding)
            };
        }

        function initializeGame() {
            const options = document.getElementById("options");
            const matches = document.getElementById("matches");
            options.innerHTML = "";
            matches.innerHTML = "";

            let optionsData, matchesData;

            switch (currentMode) {
                case "capital-estado":
                    optionsData = shuffleArray([...capitais]);
                    matchesData = shuffleArray([...estados]);
                    break;
                case "principais-cidades":
                    optionsData = shuffleArray([...principaisCidades]);
                    matchesData = shuffleArray([...estados]);
                    break;
                case "populacao-estado": {
                    const sorted = sortByPopulation(populacoesEstados, estados);
                    optionsData = sorted.populations;
                    matchesData = shuffleArray([...sorted.corresponding]);
                    break;
                }
                case "populacao-capital": {
                    const sorted = sortByPopulation(populacoesCapitais, capitais);
                    optionsData = sorted.populations;
                    matchesData = shuffleArray([...sorted.corresponding]);
                    break;
                }
				case "populacao-cidade": {
					const sorted = sortByPopulation(populacoesCidades, cidades);
					optionsData = sorted.populations;
					matchesData = shuffleArray([...sorted.corresponding]);
					break;
				}
            }

            optionsData.forEach((item, index) => {
                const option = document.createElement('div');
                option.id = `option-${index}`;
                option.className = 'option';
                option.draggable = true;
                option.ondragstart = drag;
                option.textContent = item;
                options.appendChild(option);
            });

            matchesData.forEach((item, index) => {
                const match = document.createElement('div');
                match.id = `match-${index}`;
                match.className = 'match';
                match.ondrop = drop;
                match.ondragover = allowDrop;
                match.textContent = item;
                matches.appendChild(match);
            });
        }

        function changeMode() {
            currentMode = document.querySelector('input[name="mode"]:checked').value;
            resetGame();
        }

        document.querySelectorAll('input[name="mode"]').forEach(radio => {
            radio.addEventListener('change', changeMode);
        });

        function drag(event) {
            event.dataTransfer.setData("text", event.target.id);
        }

        function allowDrop(event) {
            event.preventDefault();
        }

        function drop(event) {
            event.preventDefault();
            const data = event.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            const dropzone = event.currentTarget;

            if (!dropzone || !draggedElement || dropzone.classList.contains('correct')) {
                return;
            }

            if (dropzone.classList.contains('match')) {
                let isCorrect = false;
                const draggedContent = draggedElement.textContent;
                const dropzoneContent = dropzone.textContent;

                switch (currentMode) {
                    case "capital-estado": {
                        const capitalIndex = capitais.indexOf(draggedContent);
                        const estadoIndex = estados.indexOf(dropzoneContent);
                        isCorrect = capitalIndex === estadoIndex;
                        break;
                    }
                    case "populacao-estado": {
                        const popIndex = populacoesEstados.indexOf(draggedContent);
                        const estadoIndex = estados.indexOf(dropzoneContent);
                        isCorrect = popIndex === estadoIndex;
                        break;
                    }
                    case "populacao-capital": {
                        const popIndex = populacoesCapitais.indexOf(draggedContent);
                        const capitalIndex = capitais.indexOf(dropzoneContent);
                        isCorrect = popIndex === capitalIndex;
                        break;
                    }
                    case "principais-cidades": {
                        const cidadesIndex = principaisCidades.indexOf(draggedContent);
                        const estadoIndex = estados.indexOf(dropzoneContent);
                        isCorrect = cidadesIndex === estadoIndex;
                        break;
                    }
					case "populacao-cidade": {
						const popIndex = populacoesCidades.indexOf(draggedContent);
						const cidadeIndex = cidades.indexOf(dropzoneContent);
						isCorrect = popIndex === cidadeIndex;
						break;
					}
                }

                if (isCorrect) {
                    dropzone.classList.remove('wrong');
                    dropzone.classList.add('correct');
                    dropzone.innerHTML = `${dropzoneContent} - ${draggedContent}`;
                    draggedElement.style.display = 'none';
                    checkCompletion();
                } else {
                    dropzone.classList.remove('correct');
                    dropzone.classList.add('wrong');
                    setTimeout(() => {
                        dropzone.classList.remove('wrong');
                    }, 1000);
                }
            }
        }

        function checkCompletion() {
            const allMatches = document.querySelectorAll('.match');
            const allCorrect = Array.from(allMatches).every(match => 
                match.classList.contains('correct')
            );

            if (allCorrect) {
                document.getElementById('resultado').innerHTML = 
                    "<strong>Parabéns! Todas as correspondências estão corretas!</strong>";
            }
        }

        function resetGame() {
            document.getElementById('resultado').innerHTML = '';
            initializeGame();
        }

        initializeGame();
    </script>
</body>
</html>